<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Check Prato Elite</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body { margin:0; font-family: Arial, sans-serif; background:#020617; color:#f8fafc; }
    header { padding:14px; text-align:center; border-bottom:1px solid #1e293b; font-weight:700; }
    main { padding:16px; padding-bottom:76px; }
    .card { background:#0f172a; border-radius:12px; padding:16px; margin-bottom:14px; border:1px solid #1e293b; }
    .row { display:flex; gap:10px; }
    .row > div { flex:1; }
    label { display:block; font-size:13px; opacity:.9; margin:10px 0 6px; }
    input, select {
      width:100%; padding:12px; border-radius:10px; border:1px solid #334155;
      background:#020617; color:#f8fafc; outline:none;
    }
    input::placeholder { color:#64748b; }
    button.action {
      width:100%; padding:12px; background:#10b981; border:none; border-radius:10px;
      font-size:15px; font-weight:700; margin-top:12px; cursor:pointer;
    }
    button.secondary {
      width:100%; padding:12px; background:#1e293b; border:1px solid #334155; border-radius:10px;
      font-size:15px; font-weight:700; margin-top:10px; cursor:pointer; color:#f8fafc;
    }
    .hint { font-size:12px; opacity:.75; margin-top:8px; }
    .status { margin-top:12px; font-size:13px; opacity:.9; }
    nav {
      display:flex; background:#0f172a; border-top:1px solid #1e293b; position:fixed; bottom:0; width:100%;
    }
    nav button { flex:1; padding:12px 8px; background:none; border:none; color:#cbd5f5; font-size:12px; }
    nav button.active { color:#10b981; font-weight:800; }
    .hidden { display:none; }
    .pill { display:inline-block; padding:6px 10px; border-radius:999px; background:#1e293b; border:1px solid #334155; font-size:12px; margin:6px 6px 0 0; }
  </style>
</head>

<body>
<header>üçΩÔ∏è Check Prato Elite</header>

<main>

  <!-- ABA: CADASTRO -->
  <section id="cadastro">
    <div class="card">
      <h2 style="margin:0 0 6px;">Cadastro & Sa√∫de</h2>
      <div class="hint">Essas informa√ß√µes v√£o personalizar dietas, treinos e a an√°lise do prato.</div>

      <label>Nome</label>
      <input id="nome" placeholder="Ex: Jonatan" />

      <div class="row">
        <div>
          <label>Idade</label>
          <input id="idade" type="number" placeholder="Ex: 28" />
        </div>
        <div>
          <label>Sexo</label>
          <select id="sexo">
            <option value="">Selecione</option>
            <option>Masculino</option>
            <option>Feminino</option>
            <option>Outro</option>
          </select>
        </div>
      </div>

      <div class="row">
        <div>
          <label>Peso (kg)</label>
          <input id="peso" type="number" step="0.1" placeholder="Ex: 78.5" />
        </div>
        <div>
          <label>Altura (cm)</label>
          <input id="altura" type="number" placeholder="Ex: 175" />
        </div>
      </div>

      <label>Objetivo</label>
      <select id="objetivo">
        <option value="">Selecione</option>
        <option>Emagrecer</option>
        <option>Ganhar massa</option>
        <option>Manter peso</option>
        <option>Melhorar sa√∫de</option>
      </select>

      <label>N√≠vel de atividade</label>
      <select id="atividade">
        <option value="">Selecione</option>
        <option>Sedent√°rio</option>
        <option>Leve (1-2x/semana)</option>
        <option>Moderado (3-4x/semana)</option>
        <option>Intenso (5x+/semana)</option>
      </select>

      <label>Restri√ß√µes / Prefer√™ncias</label>
      <select id="restricao">
        <option value="">Selecione</option>
        <option>Nenhuma</option>
        <option>Vegetariano</option>
        <option>Vegano</option>
        <option>Intoler√¢ncia √† lactose</option>
        <option>Gl√∫ten</option>
        <option>Diabetes</option>
        <option>Hipertens√£o</option>
      </select>

      <label>Observa√ß√µes (opcional)</label>
      <input id="obs" placeholder="Ex: n√£o como peixe, alergia a amendoim..." />

      <button class="action" onclick="salvarPerfil()">Salvar perfil</button>
      <button class="secondary" onclick="limparPerfil()">Limpar</button>

      <div class="status" id="statusCadastro"></div>
    </div>

    <div class="card">
      <h3 style="margin:0 0 8px;">Seu perfil (salvo no aparelho)</h3>
      <div id="perfilResumo" class="hint">Ainda n√£o salvo.</div>
      <div id="perfilPills"></div>
    </div>
  </section>

  <!-- ABA: PRATO -->
  <section id="prato" class="hidden">
    <div class="card">
      <h2 style="margin:0 0 6px;">üì∏ Analisar Prato</h2>
      <div class="hint">Por enquanto √© simula√ß√£o. Depois entra IA e foto/galeria de verdade.</div>
      <button class="action" onclick="analisarPrato()">Tirar foto / Galeria</button>
      <div class="status" id="resultadoPrato"></div>
    </div>
  </section>

  <!-- ABA: DIETAS -->
  <section id="dietas" class="hidden">
    <div class="card">
      <h2 style="margin:0 0 6px;">ü•ó Dietas</h2>
      <div class="hint">Sugest√µes baseadas no seu cadastro (simula√ß√£o).</div>
      <button class="action" onclick="gerarDieta()">Gerar dieta sugerida</button>
      <button class="secondary" onclick="gerarDieta(true)">Nova dieta</button>
      <div class="status" id="resultadoDieta"></div>
    </div>
  </section>

  <!-- ABA: TREINOS -->
  <section id="treinos" class="hidden">
    <div class="card">
      <h2 style="margin:0 0 6px;">üèãÔ∏è Treinos</h2>
      <div class="hint">Depois vamos personalizar pelo seu objetivo e n√≠vel.</div>

      <button class="action" onclick="abrirVideo('https://www.youtube.com/results?search_query=treino+musculacao+iniciante')">Muscula√ß√£o (YouTube)</button>
      <button class="action" onclick="abrirVideo('https://www.youtube.com/results?search_query=treino+futebol+condicionamento')">Futebol (YouTube)</button>
      <button class="action" onclick="abrirVideo('https://www.youtube.com/results?search_query=treino+crossfit+iniciante')">Crossfit (YouTube)</button>
    </div>
  </section>

  <!-- ABA: LOJA -->
  <section id="loja" class="hidden">
    <div class="card">
      <h2 style="margin:0 0 6px;">üõí Loja</h2>
      <div class="hint">Links para p√°ginas oficiais.</div>
      <button class="action" onclick="abrirLink('https://www.gsuplementos.com.br')">Suplementos</button>
      <button class="action" onclick="abrirLink('https://www.nike.com.br')">Vestu√°rio</button>
    </div>
  </section>

  <!-- ABA: PREMIUM -->
  <section id="premium" class="hidden">
    <div class="card">
      <h2 style="margin:0 0 6px;">‚≠ê Premium & Convites</h2>
      <p style="margin:8px 0 0; opacity:.9;">Premium desbloqueia planos completos, hist√≥rico e an√°lises mais detalhadas.</p>
      <button class="action" onclick="alert('Em breve: assinatura Premium ‚úÖ')">Tornar-se Premium</button>
      <button class="secondary" onclick="copiarLink()">Copiar link de convite</button>
      <div class="status" id="statusPremium"></div>
    </div>
  </section>

</main>

<nav>
  <button class="active" onclick="mostrar('cadastro', this)">Cadastro</button>
  <button onclick="mostrar('prato', this)">Prato</button>
  <button onclick="mostrar('dietas', this)">Dietas</button>
  <button onclick="mostrar('treinos', this)">Treinos</button>
  <button onclick="mostrar('loja', this)">Loja</button>
  <button onclick="mostrar('premium', this)">Premium</button>
</nav>

<script>
  // Navega√ß√£o
  function mostrar(id, btn) {
    document.querySelectorAll('section').forEach(s => s.classList.add('hidden'));
    document.getElementById(id).classList.remove('hidden');
    document.querySelectorAll('nav button').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
  }

  // Perfil (salvo localmente no navegador do usu√°rio)
  const KEY = "checkprato_perfil_v1";

  function getPerfil() {
    try { return JSON.parse(localStorage.getItem(KEY) || "null"); }
    catch { return null; }
  }

  function setPerfil(perfil) {
    localStorage.setItem(KEY, JSON.stringify(perfil));
  }

  function salvarPerfil() {
    const perfil = {
      nome: document.getElementById("nome").value.trim(),
      idade: Number(document.getElementById("idade").value),
      sexo: document.getElementById("sexo").value,
      peso: Number(document.getElementById("peso").value),
      altura: Number(document.getElementById("altura").value),
      objetivo: document.getElementById("objetivo").value,
      atividade: document.getElementById("atividade").value,
      restricao: document.getElementById("restricao").value,
      obs: document.getElementById("obs").value.trim()
    };

    // valida√ß√£o simples
    if (!perfil.nome || !perfil.idade || !perfil.peso || !perfil.altura || !perfil.objetivo) {
      document.getElementById("statusCadastro").innerText =
        "‚ö†Ô∏è Preencha pelo menos: Nome, Idade, Peso, Altura e Objetivo.";
      return;
    }

    setPerfil(perfil);
    document.getElementById("statusCadastro").innerText = "‚úÖ Perfil salvo com sucesso!";
    renderPerfil();
  }

  function limparPerfil() {
    localStorage.removeItem(KEY);
    document.getElementById("statusCadastro").innerText = "üßπ Perfil removido do aparelho.";
    document.getElementById("perfilResumo").innerText = "Ainda n√£o salvo.";
    document.getElementById("perfilPills").innerHTML = "";
  }

  function renderPerfil() {
    const p = getPerfil();
    if (!p) return;

    const imc = (p.peso && p.altura) ? (p.peso / ((p.altura/100) ** 2)) : null;
    const imcTxt = imc ? `IMC ~ ${imc.toFixed(1)}` : "";

    document.getElementById("perfilResumo").innerText =
      `Ol√°, ${p.nome}. Objetivo: ${p.objetivo}. ${imcTxt}`.trim();

    const pills = [];
    if (p.idade) pills.push(`${p.idade} anos`);
    if (p.peso) pills.push(`${p.peso} kg`);
    if (p.altura) pills.push(`${p.altura} cm`);
    if (p.atividade) pills.push(p.atividade);
    if (p.restricao) pills.push(p.restricao);
    if (p.sexo) pills.push(p.sexo);

    document.getElementById("perfilPills").innerHTML =
      pills.map(t => `<span class="pill">${t}</span>`).join("");
  }

  // Simula√ß√£o: an√°lise do prato personalizada
  function analisarPrato() {
    const p = getPerfil();
    if (!p) {
      document.getElementById("resultadoPrato").innerText =
        "‚ö†Ô∏è Primeiro fa√ßa o Cadastro para personalizar a an√°lise.";
      return;
    }

    // Simula√ß√£o simples baseada no objetivo
    let base = 650;
    if (p.objetivo === "Emagrecer") base = 520;
    if (p.objetivo === "Ganhar massa") base = 780;

    document.getElementById("resultadoPrato").innerText =
      `üçõ Simula√ß√£o: ~${base} kcal para seu perfil (${p.objetivo}).`;
  }

  // Simula√ß√£o: dieta sugerida baseada no perfil
  function gerarDieta(nova=false) {
    const p = getPerfil();
    const out = document.getElementById("resultadoDieta");

    if (!p) { out.innerText = "‚ö†Ô∏è Fa√ßa o Cadastro primeiro."; return; }

    const dietasEmagrecer = [
      "Caf√©: ovos + fruta | Almo√ßo: frango + salada | Jantar: peixe + legumes",
      "Caf√©: iogurte + aveia | Almo√ßo: carne magra + arroz integral | Jantar: omelete + salada",
      "Caf√©: tapioca + queijo | Almo√ßo: frango + legumes | Jantar: sopa de legumes"
    ];

    const dietasMassa = [
      "Caf√©: ovos + p√£o | Almo√ßo: arroz + feij√£o + carne | Jantar: macarr√£o + frango",
      "Caf√©: vitamina (banana+aveia) | Almo√ßo: frango + batata doce | Jantar: carne + arroz",
      "Caf√©: iogurte + granola | Almo√ßo: peixe + arroz | Jantar: omelete + batata"
    ];

    const dietasManter = [
      "Caf√©: fruta + ovos | Almo√ßo: prato equilibrado | Jantar: prote√≠na + legumes",
      "Caf√©: iogurte + fruta | Almo√ßo: arroz+feij√£o+carne | Jantar: salada + frango",
      "Caf√©: p√£o + queijo | Almo√ßo: macarr√£o + carne | Jantar: sopa + sandu√≠che leve"
    ];

    let lista = dietasManter;
    if (p.objetivo === "Emagrecer") lista = dietasEmagrecer;
    if (p.objetivo === "Ganhar massa") lista = dietasMassa;

    const idx = Math.floor(Math.random() * lista.length);
    const restr = p.restricao && p.restricao !== "Nenhuma" ? ` (aten√ß√£o: ${p.restricao})` : "";

    out.innerText = `${nova ? "üîÅ " : ""}Dieta sugerida: ${lista[idx]}${restr}`;
  }

  function abrirVideo(url) { window.open(url, "_blank"); }
  function abrirLink(url) { window.open(url, "_blank"); }

  function copiarLink() {
    const status = document.getElementById("statusPremium");
    const link = window.location.href;
    if (navigator.clipboard && navigator.clipboard.writeText) {
      navigator.clipboard.writeText(link);
      status.innerText = "üîó Link copiado! Envie para seus amigos.";
    } else {
      status.innerText = "‚ö†Ô∏è Seu navegador n√£o permitiu copiar. Copie o link manualmente.";
    }
  }

  // Carrega perfil ao abrir
  renderPerfil();
</script>

</body>
</html>
